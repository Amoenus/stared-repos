{"ast":null,"code":"var _jsxFileName = \"/Users/oliver_almalel/Desktop/Ruby Projects/Curriculum/09 GraphQL/W18D4 Frontend User Auth/online_store_part_2/client/src/components/Nav.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Query } from \"react-apollo\";\nimport Queries from \"../graphql/queries\";\nconst IS_LOGGED_IN = Queries.IS_LOGGED_IN;\n\nconst Nav = props => {\n  return React.createElement(ApolloConsumer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }, clientCache => React.createElement(Query, {\n    query: IS_LOGGED_IN,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }, ({\n    data\n  }) => {\n    if (data.isLoggedIn) {\n      return React.createElement(\"button\", {\n        onClick: e => {\n          e.preventDefault();\n          localStorage.removeItem(\"auth-token\");\n          clientCache.writeData({\n            data: {\n              isLoggedIn: false\n            }\n          });\n          props.history.push(\"/\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 15\n        },\n        __self: this\n      }, \"Logout\");\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, \"Login\"));\n    }\n  }));\n};\n\nexport default Nav;","map":{"version":3,"sources":["/Users/oliver_almalel/Desktop/Ruby Projects/Curriculum/09 GraphQL/W18D4 Frontend User Auth/online_store_part_2/client/src/components/Nav.js"],"names":["React","Component","Link","Query","Queries","IS_LOGGED_IN","Nav","props","clientCache","data","isLoggedIn","e","preventDefault","localStorage","removeItem","writeData","history","push"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,KAAT,QAAsB,cAAtB;AACA,OAAOC,OAAP,MAAoB,oBAApB;MACQC,Y,GAAiBD,O,CAAjBC,Y;;AAER,MAAMC,GAAG,GAAGC,KAAK,IAAI;AACnB,SACE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGC,WAAW,IACV,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAEH,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAAC;AAAEI,IAAAA;AAAF,GAAD,KAAc;AACb,QAAIA,IAAI,CAACC,UAAT,EAAqB;AACnB,aACE;AACE,QAAA,OAAO,EAAEC,CAAC,IAAI;AACZA,UAAAA,CAAC,CAACC,cAAF;AACAC,UAAAA,YAAY,CAACC,UAAb,CAAwB,YAAxB;AACAN,UAAAA,WAAW,CAACO,SAAZ,CAAsB;AAAEN,YAAAA,IAAI,EAAE;AAAEC,cAAAA,UAAU,EAAE;AAAd;AAAR,WAAtB;AACAH,UAAAA,KAAK,CAACS,OAAN,CAAcC,IAAd,CAAmB,GAAnB;AACD,SANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF;AAYD,KAbD,MAaO;AACL,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAC,QAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,CADF;AAKD;AACF,GAtBH,CAFJ,CADF;AA8BD,CA/BD;;AAiCA,eAAeX,GAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Query } from \"react-apollo\";\nimport Queries from \"../graphql/queries\";\nconst { IS_LOGGED_IN } = Queries;\n\nconst Nav = props => {\n  return (\n    <ApolloConsumer>\n      {clientCache => (\n        <Query query={IS_LOGGED_IN}>\n          {({ data }) => {\n            if (data.isLoggedIn) {\n              return (\n                <button\n                  onClick={e => {\n                    e.preventDefault();\n                    localStorage.removeItem(\"auth-token\");\n                    clientCache.writeData({ data: { isLoggedIn: false } });\n                    props.history.push(\"/\");\n                  }}\n                >\n                  Logout\n                </button>\n              );\n            } else {\n              return (\n                <div>\n                  <Link to=\"/login\">Login</Link>\n                </div>\n              );\n            }\n          }}\n        </Query>\n      )}\n    </ApolloConsumer>\n  );\n};\n\nexport default Nav;"]},"metadata":{},"sourceType":"module"}